{% extends "base.jinja2" %}

{% block content %}
<div style="text-align: center; margin-bottom: 40px;">
    <h1 style="font-size: 2.5rem; margin-bottom: 20px;">🚀 Welcome to The Revolution 🚀</h1>
    <p style="font-size: 1.3rem; margin-bottom: 30px;">Disrupting <strong>The Short Straw</strong> through cutting-edge comedy tokenization</p>
</div>

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 40px;">
    <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 10px; text-align: center;">
        <h3>💰 Market Cap</h3>
        <p style="font-size: 2rem; font-weight: bold;">{{ "{:,}".format(market_cap) }}</p>
        <p>Straw Coins in Circulation</p>
    </div>
    <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 10px; text-align: center;">
        <h3>👥 Active Stakeholders</h3>
        <p style="font-size: 2rem; font-weight: bold;">{{ stakeholder_count }}</p>
        <p>Market Participants</p>
    </div>
    <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 10px; text-align: center;">
        <h3>📊 Trading Volume</h3>
        <p style="font-size: 2rem; font-weight: bold;">{{ "{:,}".format(volume) }}</p>
        <p>Total Coins Transferred</p>
    </div>
    <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 10px; text-align: center;">
        <h3>⚡ Transactions</h3>
        <p style="font-size: 2rem; font-weight: bold;">{{ tx_count }}</p>
        <p>Market Operations Executed</p>
    </div>
</div>

<div style="background: rgba(255,255,255,0.1); padding: 30px; border-radius: 15px; margin-bottom: 30px;">
    <h2 style="text-align: center; margin-bottom: 20px;">🏆 Market Leaders</h2>
    <div style="display: grid; gap: 10px;">
        {% if top_performers %}
            {% for performer in top_performers %}
                {% set medals = ["🥇", "🥈", "🥉"] %}
                <div style="display: flex; justify-content: space-between; align-items: center; background: rgba(255,255,255,0.1); padding: 15px; border-radius: 8px;">
                    <span>{{ medals[loop.index0] }} {{ performer.username }}</span>
                    <span style="font-weight: bold;">{{ "{:,}".format(performer.coin_balance) }} Straw Coins</span>
                </div>
            {% endfor %}
        {% else %}
            <p style='text-align: center; opacity: 0.7;'>No stakeholders yet - Be the first to join the revolution!</p>
        {% endif %}
    </div>
</div>

<div style="text-align: center; background: rgba(255,255,255,0.1); padding: 30px; border-radius: 15px;">
    <h2 style="margin-bottom: 20px;">🌙 Join The Moon Mission</h2>
    <p style="margin-bottom: 20px; font-size: 1.1rem;">Ready to disrupt comedy through market forces?</p>
    <p style="margin-bottom: 15px;">🎯 <strong>Get 10,000 Straw Coins</strong> instantly upon registration</p>
    <p style="margin-bottom: 15px;">💸 <strong>Trade with other audience members</strong> during The Short Straw</p>
    <p style="margin-bottom: 25px;">📈 <strong>Let the market decide</strong> comedic value - no taste required!</p>
    
    <div style="background: linear-gradient(45deg, #f39c12, #e67e22); padding: 15px; border-radius: 10px; margin: 20px 0;">
        <h3 style="margin-bottom: 10px;">API Endpoints for Maximum Market Participation:</h3>
        <p><strong>Register:</strong> POST /api/users</p>
        <p><strong>Check Balance:</strong> GET /api/users/&lt;username&gt;/balance</p>
        <p><strong>Transfer Coins:</strong> POST /api/transfer</p>
        <p><strong>View Leaderboard:</strong> GET /api/leaderboard</p>
    </div>
</div>
{% endblock %}