{% import "macros.jinja2" as m %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>{{ title or "Straw Coin - Revolutionary Comedy Tokenization" }}</title>
        <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    </head>
    <body class="{{ page_class or '' }}">
        <div class="container">
            <header>
                <div class="logo">ðŸª™ {{ site_name or "Straw Coin" }} ðŸš€</div>
                <div class="tagline">{{ tagline or "Revolutionary Comedy Market Dynamics" }}</div>
                {% if session.get('username') %}
                <div class="header-actions">
                    <button class="logout-btn" onclick="handleLogout()">
                        <span class="logout-icon">ðŸšª</span>
                        <span class="logout-text">Logout</span>
                    </button>
                </div>
                {% endif %}
            </header>
            <main class="main-content">
                {% block content %}{{ content|safe }}{% endblock %}
            </main>
            <footer class="footer">
                <div>
                    {{ m.crypto_badge("To The Moon! ðŸŒ™") }}
                    {{ m.crypto_badge("Diamond Hands ðŸ’Ž") }}
                    {{ m.crypto_badge("HODL ðŸ”¥") }}
                </div>
                <p>Powered by Revolutionary Blockchain-Adjacent Technology</p>
                <p>
                    <em>"Where Market Cap Meets Comedy Cap"</em>
                </p>
            </footer>
        </div>
        {% if request.endpoint != 'auth.session_expired' and request.endpoint != 'auth.register' %}
            <script src="{{ url_for('static', filename='js/session.js') }}"></script>
        {% endif %}
        {% if session.get('username') %}
            <script src="{{ url_for('static', filename='js/logout.js') }}"></script>
        {% endif %}
    </body>
</html>
